API Name,HTTP Method,URL,Description,Authentication,Request Parameters,Response Fields,Notes
API 1: Lấy thông tin Campaign (Optional),GET,/api/v1/campaigns/{campaign_id},Lấy thông tin chi tiết của campaign,Authorization: Bearer {access_token},campaign_id (path parameter),"campaign_id, campaign_name, merchant_name, category, commission_rate, status, description, start_date, end_date","Optional - dùng để validate campaign_id hoặc hiển thị thông tin từ Pub2. Publisher được identify từ Bearer token."
API 2: Lấy Link Affiliate,POST,/api/v1/affiliate-links,Tạo link affiliate cho campaign,Authorization: Bearer {access_token},"campaign_id (string, required), product_url (string, optional), sub_id (string, optional)","affiliate_link, campaign_id, pub2_user_id, tracking_params, expires_at","Link có thể tái sử dụng (idempotent). sub_id dùng cho tracking tùy chỉnh. Publisher được identify từ Bearer token."
API 3: Báo cáo Click,GET,/api/v1/reports/clicks,Lấy thống kê số lượt click theo publisher và campaign,Authorization: Bearer {access_token},"campaign_id (optional), from_date (YYYY-MM-DD, required), to_date (YYYY-MM-DD, required), group_by (day/campaign, optional)","summary: {total_clicks, unique_clicks}, details: [{date, campaign_id, campaign_name, clicks, unique_clicks}]","Dùng on-demand (khi user request) hoặc scheduled sync (cron job mỗi 1 giờ). Publisher được identify từ Bearer token."
API 4: Báo cáo Conversion,GET,/api/v1/reports/conversions,Lấy thống kê đơn hàng và doanh thu,Authorization: Bearer {access_token},"campaign_id (optional), from_date (YYYY-MM-DD, required), to_date (YYYY-MM-DD, required), status (pending/approved/rejected/all, optional), group_by (day/campaign/status, optional)","summary: {total_orders, total_revenue, total_commission, pending_orders, approved_orders, rejected_orders}, details: [{date, campaign_id, campaign_name, order_id, order_value, commission, status, created_at, updated_at}]","status: pending (chờ duyệt), approved (đã duyệt), rejected (bị từ chối). Dùng on-demand hoặc scheduled sync. Publisher được identify từ Bearer token."
API 5: Báo cáo Tổng hợp,GET,/api/v1/reports/overview,Lấy báo cáo tổng hợp hiệu suất (click + conversion),Authorization: Bearer {access_token},"campaign_id (optional), from_date (YYYY-MM-DD, required), to_date (YYYY-MM-DD, required)","publisher: {pub2_user_id}, period: {from_date, to_date}, metrics: {clicks: {total, unique}, conversions: {total_orders, conversion_rate, total_revenue, total_commission, avg_order_value, avg_commission}, status_breakdown: {pending, approved, rejected}}, campaigns: [{campaign_id, campaign_name, clicks, orders, revenue, commission}]","Dashboard tổng quan. Dùng on-demand (khi user xem dashboard) hoặc scheduled sync. Publisher được identify từ Bearer token."
API 6: Webhook (Optional),POST,{platform_webhook_url},Pub2 push thông báo real-time khi có sự kiện conversion,X-Webhook-Signature: {hmac_signature},"event (conversion.created/approved/rejected), timestamp, data: {pub2_user_id, campaign_id, order_id, order_value, commission, status, created_at}",Platform response: {success: true},"Real-time notification. Event types: conversion.created, conversion.approved, conversion.rejected. Optional - Phase 4."
